# Arkhan the Black: Expanded
![Arlhan the Black: Expanded â€“ Logo](https://github.com/Warhammer-Mods/assets/blob/master/mods/arkhan_stevie/steam_workshop.png?raw=1)

This mod makes changes to Arkhan's faction by giving him access to The Lore of Vampires. It also adds additional units with unique unit cards, over 20 new technologies and access to Bloodline Lords & Scrap Upgrades via the submods listed below.

## New units
![Crypt Ghouls](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/wh2_dlc09_tmb_crypt_ghouls.png?raw=1)
![Dire Wolves](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/wh2_dlc09_tmb_mon_dire_wolves.png?raw=1)
![Fell Bats](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/wh2_dlc09_tmb_mon_fell_bats.png?raw=1)
![Skeleton Warriors](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_skeleton_warriors.png?raw=1)
![Skeleton Spearmen](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_skeleton_spearmen.png?raw=1)
![Skeleton Archers](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_skeleton_archers.png?raw=1)
![Grave Guard](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_grave_guard.png?raw=1)
![Grave Guard (Great Weapons)](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_grave_guard_great.png?raw=1)
![Nagashizzar Guard](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_nagashizzar_guard.png?raw=1)
![Cairn Wraiths](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_cairn_wraith.png?raw=1)
![Hexwraiths](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/wh2_dlc09_tmb_cav_hexwraiths.png?raw=1)
![Mortis Engine](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_mortis_engine.png?raw=1)
![Crypt Horrors](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_crypt_horror.png?raw=1)
![Vargheists](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_vargheist.png?raw=1)
![Terrorgheist](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_terrorgheist.png?raw=1)
![Zombie Dragon](https://github.com/Warhammer-Mods/assets/blob/master/modpage/units/steve_ark_zombie_dragon.png?raw=1)


## New Lords
![](https://i.imgur.com/osOD5Sg.png?1)
![](https://i.imgur.com/4nn7CdM.png?1)
![](https://i.imgur.com/8NXd1iC.png?1)
![](https://i.imgur.com/883gsrB.png?1)
![](https://i.imgur.com/AbOC3Vj.png?1)
![](https://i.imgur.com/WEmKnU8.png?1)

Bloodline Lords are unlocked via technology and spending Canopic Jars. **SUBMOD REQUIRED**

## New Heroes
![Liche Priest (Vampires)](https://i.imgur.com/VmjUvZp.png?1)![Wight King](https://i.imgur.com/iymsunk.png?1)

Liche Priest (Vampires) - available at the start of the campaign and shares the same unit capacity as the Liche Priests. Can be increased with Liche Priests events or capacity.

## New Abilities
![Raise Zombies for Liche Priest (Vampires)](https://i.imgur.com/1lrmSca.png)
![Eldritch Blast for Arkhan and acts similar to Venom Wave and Wrath of Ptra](https://i.imgur.com/iWFYVNo.png)
![Army Ability - Raise Skeleton Warriors](https://i.imgur.com/Aq5f7bp.png)
![Army Ability - Rain of Souls](https://i.imgur.com/1V1eOLp.png)

- Raise Zombies for Liche Priest (Vampires)
- Eldritch Blast for Arkhan and acts similar to Venom Wave and Wrath of Ptra
- Army Ability - Raise Skeleton Warriors
- Army Ability - Rain of Souls

## New Buildings
![Major Garrison](https://github.com/Warhammer-Mods/assets/blob/master/modpage/buildings/arkhan_major_walls.png?raw=1)
![Minor Garrison](https://github.com/Warhammer-Mods/assets/blob/master/modpage/buildings/arkhan_minor_walls.png?raw=1)
![Dark nexus](https://github.com/Warhammer-Mods/assets/blob/master/modpage/buildings/arkhan_vmp_halls_dead.png?raw=1)
![Vampire Beasts](https://github.com/Warhammer-Mods/assets/blob/master/modpage/buildings/arkhan_vmp_fell_tree.png?raw=1)

- Major Garrison
- Minor Garrison
- Dark nexus
- Vampire Beasts

## Updated Landmarks
![Black Tower of Arkhan](https://github.com/Warhammer-Mods/assets/blob/master/modpage/buildings/tmb_black_tower_of_arkhan.png?raw=1)
### Black Tower of Arkhan
- Winds of Magic +20 [all armies faction wide]
- Vampiric Corruption +1
- Magic Resistance +5 [all armies faction wide]

![The Great Boneyard](https://github.com/Warhammer-Mods/assets/blob/master/modpage/buildings/wh2_dlc15_special_boneyard.png?raw=1)
### The Great Boneyard

- Crypt Ghoul Unit Capacity +8
- Vargheist Unit Capacity +2
- Crypt Horror Unit Capacity +2
- Vampiric Corruption +1

![Lost Necropolis of Mourkain](https://github.com/Warhammer-Mods/assets/blob/master/modpage/buildings/vmp_tmb_mourkain.png?raw=1)
### Lost Necropolis of Mourkain

- Crypt Ghoul Unit Capacity +8
- Vargheist Unit Capacity +2
- Crypt Horror Unit Capacity +2
- Vampiric Corruption +1

## Submods
- [Bloodline Lords](https://steamcommunity.com/sharedfiles/filedetails/?edit=true&id=2547581228)
- [Scrap Upgrades](https://steamcommunity.com/sharedfiles/filedetails/?id=2546743100)
- [Tomb Kings: Extended](https://steamcommunity.com/sharedfiles/filedetails/?id=2112852508)

## Bugs
Please report bugs [here](https://github.com/Warhammer-Mods/arkhan_stevie/issues/new).

Please use [this link](https://github.com/Warhammer-Mods/arkhan_stevie/releases) to download the previous version of the mod if you need to complete campaigns.

## Future Plans
Bugfixing and Submods

## Credits
- I could not have done this mod without the help of other amazing modders from [C&C Modding Den](https://discord.gg/jgVFtUJ)! Come join me and chat with other modders.
- Taste of Capitalism: [Grave Guard Halberd Unit Card](https://steamcommunity.com/sharedfiles/filedetails/?id=1892173814)
- [Guv](https://steamcommunity.com/id/Guvenoren/myworkshopfiles/) for allowing me to use his Cairn Wraith and Mortis Engine unit cards.
- [Prop Joe](https://steamcommunity.com/workshop/filedetails/?id=2155060363) for the Bloodline Unlock script.
- [smOkin](https://steamcommunity.com/profiles/76561197971867345/myworkshopfiles/?appid=594570) for the script to enable the horde mechanic on two of my agents.
- All images and assets used on this page are property of Creative Assembly.

---
# Included in Arhkan the Black: Expanded
## Arkhan Raise Dead Mechanic Stevie
A mod for Total War: Warhammer 2 that enables Raise Dead campaign mechanic for the Followers of Nagash faction (Arkhan the Black).

### Features
- Enables Raising Dead Feature for the Followers of Nagash for campaign map
  - Raise Dead is available for all provinces with varying units available in each
- Carefully picked list of units for lore-friendly experience
  - Vanilla units are fully covered, submods for modded units are also available
- With Arkhan the Black growing more powerful with his mastery of the Dark Arts, he gets more potent undead monsters at his disposal
  - As Followers of Nagash prepare for their Master to return by taking the world piece by piece, the corrupted ground under Arkhan's feet itself awakens more powerful hordes imbued with Nagash's power to surge the world of the living and treacherous undead

### Notes
- Province mercenary pools for Arkhan will be populated upon new game start or loading an existing save
- Additionally, an extended set of units will be added to conquered provinces
  - The mod will keep mercenary pools of respective provinces up to date even if loaded mid-game or after (sub)mod updates.
- Just like Raise Dead mechanic feature of other factions, you may have to wait a few turns for new units to appear
  - This includes units that require certain buildings/technologies to unlock first

### Submods
TBA

### Public API
- `ardm:register_table(table)`
  - `table`:
```lua
{
  name = "string",             -- an arbitrary name for the table
  build_number = number,       -- build number, incremented with each update to the table
  deployment_mode = "string",  -- unit spawn behaviour, see below
  units = {
    main_units_table_unit_key = {        -- unit key from "main_units_tables"
      count = number,                      -- how many units to initially spawn
      replenishment_chance = number,       -- replenishment chance per turn in percent
      max_count = number,                  -- number of units in a pool before they stop replenish
      max_replenishment = number,          -- how many units may possibly be replenished per turn
      level = number,                      -- unit experience (rank), from 0 to 9
      technology_required = "string",      -- technology key from "technologies_tables", researching which shall grant access to Raising this unit(s)
      partial_replenishment = boolean,     -- is eligible for partial replenishment per turn
      regions = "string"|{                 -- target region(s)
        "table",
        "of",
        "region",
        "keys"
      }
  }
}
```

Where:
  - `deployment_mode` is one of the following:
    - `default` spawns units on new game start or loading an existing save if `build_number` is greater than that of an earlier deployed table of the same name.
    - `own_provinces` spawns units on taking a whole province, overwriting existing units in pools of the same key.
  - `regions` is either a string or a table:
    - as `string`:
      - `global` | `all` | `any`
        spawns the unit globally to all provinces;
    - as `table`:
      - a list of region key strings from `regions_tables` db:
        `{"region_key_1", "region_key_2"}`

Other options are quite self-explanatory.

### Example submod
`script/campaign/mod/my_example_submod.lua`:
```lua
local ardm = ardm

ardm:register_table({
  name = "arkhans_pets",
  build_number = 1,
  deployment_mode = "default",
  units = {
    wh2_dlc09_tmb_mon_dire_wolves = {
      count = 1,
      replenishment_chance = 75,
      max_count = 4,
      max_replenishment = 1,
      level = 0,
      technology_required = "some_technology_key",
      partial_replenishment = false,
      regions = "global"
    },
    wh2_dlc09_tmb_mon_fell_bats = {
      count = 1,
      replenishment_chance = 80,
      max_count = 4,
      max_replenishment = 1,
      level = 0,
      technology_required = "",
      partial_replenishment = false,
      regions = "global"
    },
    wh_main_vmp_mon_terrorgheist = {
      count = 0,
      replenishment_chance = 3,
      max_count = 1,
      max_replenishment = 1,
      level = 0,
      technology_required = "",
      partial_replenishment = true,
      regions = {
        "wh2_main_great_mortis_delta_black_pyramid_of_nagash",
        "wh2_main_the_broken_teeth_nagashizar",
        "wh_main_desolation_of_nagash_spitepeak"
      }
    }
  })

  ardm:register_table({
    name = "arkhans_pets",
    build_number = 1,
    deployment_mode = "own_provinces",
    units = {
      wh2_dlc09_tmb_mon_dire_wolves = {
        count = 3,
        replenishment_chance = 90,
        max_count = 4,
        max_replenishment = 1,
        level = 1,
        technology_required = "",
        partial_replenishment = false,
        regions = "global"
      },
      wh2_dlc09_tmb_mon_fell_bats = {
        count = 3,
        replenishment_chance = 100,
        max_count = 4,
        max_replenishment = 1,
        level = 1,
        technology_required = "",
        partial_replenishment = false,
        regions = "global"
      },
      wh_main_vmp_mon_terrorgheist = {
        count = 1,
        replenishment_chance = 13,
        max_count = 1,
        max_replenishment = 1,
        level = 1,
        technology_required = "",
        partial_replenishment = true,
        regions = {
          "wh2_main_great_mortis_delta_black_pyramid_of_nagash",
          "wh2_main_the_broken_teeth_nagashizar",
          "wh_main_desolation_of_nagash_spitepeak"
        }
      }
    }
})
```
